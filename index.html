<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>2606AI</title>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
<link href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css" rel="stylesheet">

<style>
:root{ --main:#0018a8; --accent:#d4af37; --bg:#f5f6fa; }
body{ font-family:'Helvetica','Arial',sans-serif; background:var(--bg); font-size:14px; padding-top:70px; }
.container-fluid{max-width:1400px;margin:auto;}
.wrap{max-width:1400px;width:100%;margin:0 auto;}

/* Top banner */
.top-banner{ background:var(--main)!important;color:#fff;font-weight:700; position:sticky; top:70px; z-index:1054; height:32px;
  display:flex; align-items:center; justify-content:center; line-height:32px; overflow:hidden; border:0; }
.top-banner .marquee{ display:inline-block; white-space:nowrap; animation: marquee 60s linear infinite; }
@keyframes marquee{ 0%{transform:translateX(100%)} 100%{transform:translateX(-100%)} }

/* Header */
.site-header{background:#fff;padding:10px 15px;border-bottom:1px solid #eee; position:fixed;top:0;left:0;right:0;z-index:1055;height:auto; box-shadow:0 2px 6px rgba(0,0,0,.05); }
.site-header .wrap{display:flex;align-items:center;gap:12px;}
.site-header img.logo{ width:84px; aspect-ratio:3/2; object-fit:contain; cursor:pointer; }
.header-search{ flex:1 1 auto; }
.header-search .form-control{ font-size:13px;padding:6px 10px; }
@media (max-width: 992px){
  .site-header img.logo{ width:72px; }
  .header-search .input-group{ width:100%; }
}

/* ===== GROUP BAR (t·ª± sinh t·ª´ c·ªôt group) ===== */
.group-box{background:#fff;border-radius:12px;padding:0;box-shadow:0 1px 4px rgba(0,0,0,.05);margin:12px 0;}
.group-scroll{display:flex;overflow-x:auto;white-space:nowrap;scrollbar-width:none}
.group-scroll::-webkit-scrollbar{display:none}
.group-item{
  flex:0 0 auto; display:inline-flex;align-items:center;gap:6px;
  padding:10px 18px;border-right:1px solid #e5e9f5;
  font-weight:600;font-size:13px;color:#0b1e5b;background:#fff;cursor:pointer
}
.group-item:first-child{border-top-left-radius:8px;border-bottom-left-radius:8px}
.group-item:last-child{border-top-right-radius:8px;border-bottom-right-radius:8px;border-right:none}
.group-item.active{background:#eaf1ff;border-color:#8fb3ff;color:#0018a8}

/* ====== CATEGORY v2 (2 h√†ng + m≈©i t√™n, l·∫≠t theo trang 12 m·ª•c) ====== */
.category-box{background:#fff;border-radius:12px;padding:10px;box-shadow:0 2px 4px rgba(0,0,0,.05)}
.category-wrapper{ position:relative; padding:0 28px; }
.category-viewport{ overflow:hidden; }
.category-track{ display:flex; gap:12px; transition:transform .35s ease; will-change: transform; }
.category-page{
  display:grid; gap:12px;
  grid-template-columns: repeat(6, 1fr);
  grid-template-rows: repeat(2, auto);
  min-width:100%;
}
@media (max-width: 992px){ .category-page{ grid-template-columns: repeat(4, 1fr); } }
@media (max-width: 576px){ .category-page{ grid-template-columns: repeat(3, 1fr); } }
.category-item{
  text-align:center;padding:10px;border-radius:10px;cursor:pointer;transition:.2s;
  border:1px solid #eef2ff;background:#fff;
}
.category-item:hover{ background:#f7faff; }
.category-item.active{ background:#e6f0ff;border-color:#007bff; }
.category-item .icon{
  width:48px;height:48px;display:inline-flex;align-items:center;justify-content:center;
  border-radius:12px;background:linear-gradient(135deg,#eef3ff,#f7f9ff);margin-bottom:6px
}
.category-item .icon img{width:28px;height:28px;object-fit:contain}
.category-item span{font-size:13px;display:block}
.cat-arrow{
  position:absolute; top:50%; transform:translateY(-50%);
  width:24px;height:64px;border:none;background:transparent;color:#0018a8;
  font-size:18px;font-weight:700; cursor:pointer; z-index:2;
}
.cat-arrow:disabled{ opacity:.35; cursor:not-allowed; }
.cat-arrow.left{ left:2px } .cat-arrow.right{ right:2px }
.category-fade{ pointer-events:none; position:absolute; top:0; bottom:0; width:28px; z-index:1;
  background:linear-gradient(to right, #fff, rgba(255,255,255,0)); }
.category-fade.right{ right:0; transform:scaleX(-1); }
.category-fade.left{ left:0 }

/* Sidebar, product card, suppliers, ads, cart, footer (t·ªëi gi·∫£n ‚Äì ƒë·ªß d√πng) */
.sidebar-box{background:#fff;padding:12px;border-radius:8px;margin-bottom:15px;box-shadow:0 2px 4px rgba(0,0,0,.05)}
.link-preview{display:flex; gap:10px; border:1px solid #eef2ff;background:#fff;border-radius:10px;padding:10px}
.cardx{border:none;border-radius:0;background:#fff;overflow:hidden;box-shadow:0 2px 6px rgba(0,0,0,.08);display:flex;flex-direction:column}
.cardx img.thumb{width:100%;height:180px;object-fit:cover}
.cardx .meta{padding:10px;display:flex;flex-direction:column;gap:6px}
.cardx .id{font-weight:600;color:#0018a8;font-size:13px}
.cardx .details{font-size:12px;color:#666}
.cardx .price{font-weight:700;color:#d32f2f}
.cardx .add-btn{border:none;background:var(--main);color:#fff;border-radius:50%;width:32px;height:32px;font-size:18px;font-weight:700}
.pager-bar{display:flex;justify-content:flex-end;gap:8px;flex-wrap:wrap}
#errbox{position:fixed;bottom:8px;left:8px;right:8px;background:#ffefef;border:1px solid #e99;padding:8px;border-radius:8px;z-index:3000;display:none;white-space:pre-wrap;font-family:ui-monospace,Consolas,monospace}
</style>
</head>
<body>

<header class="site-header">
  <div class="wrap">
    <a id="logoLink" href="#" class="d-flex align-items-center text-decoration-none">
      <img src="https://drive.google.com/thumbnail?id=1e9N6rgsTP5vYtKl4Lwq801dfteYLbx_F&sz=w160" class="logo" alt="2606AI logo">
    </a>
    <form id="filter-form" class="header-search d-flex gap-2 m-0" onsubmit="return false;">
      <div class="input-group w-100">
        <input id="searchBox" class="form-control" placeholder="T√¨m s·∫£n ph·∫©m... (ID, m√¥ t·∫£)">
        <button id="searchBtn" class="btn btn-primary" type="button">T√¨m</button>
      </div>
    </form>
  </div>
</header>

<div class="top-banner">
  <div class="wrap">
    <div class="marquee">
      ƒê·ªÉ ƒë·∫£m b·∫£o quy·ªÅn l·ª£i h√£y th√¥ng b√°o v·ªõi 2606AI.VN khi b·∫°n ƒë√£ ch·ªët ƒë∆°n h√†ng ‚Ä¢
      Ngu·ªìn thu c·ªßa 2606AI.VN ƒë·∫øn t·ª´ qu·∫£ng c√°o ‚Ä¢ C√≥ 2606AI.VN t·ª± tin s·∫£n xu·∫•t m·ªçi s·∫£n ph·∫©m
    </div>
  </div>
</div>

<div class="container-fluid my-3">
  <!-- ===== GROUP BAR (t·ª± sinh t·ª´ c·ªôt group) ===== -->
  <div class="group-box">
    <div id="groupScroll" class="group-scroll" role="tablist" aria-label="Nh√≥m s·∫£n ph·∫©m"></div>
  </div>

  <div class="row g-3">
    <!-- Sidebar -->
    <aside class="col-lg-3 col-md-4">
      <div class="sidebar-box benefits-v3">
        <h6 class="mb-2">Ch√∫ng t√¥i c√≥ g√¨ cho b·∫°n...</h6>
        <div class="link-preview">
          <div class="meta">
            <div class="title fw-bold small mb-1">10,000+ m·∫´u tham kh·∫£o</div>
            <div class="desc small text-muted">T√¨m nhanh ‚Äì l∆∞u gi·ªè ‚Äì xin b√°o gi√°.</div>
          </div>
        </div>
      </div>

      <div class="sidebar-box ads-box">
        <h6 class="fw-bold mb-2 d-flex align-items-center justify-content-between">
          <span>X∆∞·ªüng ƒë·ªÅ xu·∫•t</span>
          <span id="adsCount" class="badge rounded-pill text-bg-primary" style="font-weight:700;display:none">0</span>
        </h6>
        <div id="adsList" class="d-flex flex-column gap-2"></div>
        <div id="adsEmpty" class="small text-muted">Ch·ªçn b·ªô l·ªçc ƒë·ªÉ xem ƒë∆°n v·ªã ph√π h·ª£p.</div>
      </div>
    </aside>

    <!-- Content -->
    <main class="col-lg-9 col-md-8">
      <!-- HERO -->
      <div class="hero row g-2">
        <div class="col-md-8">
          <div id="heroMain" class="carousel slide" data-bs-ride="carousel" data-bs-interval="4000">
            <div class="carousel-inner">
              <div class="carousel-item active"><img class="d-block w-100" src="https://picsum.photos/1200/300?random=11" alt=""></div>
              <div class="carousel-item"><img class="d-block w-100" src="https://picsum.photos/1200/300?random=12" alt=""></div>
              <div class="carousel-item"><img class="d-block w-100" src="https://picsum.photos/1200/300?random=13" alt=""></div>
            </div>
            <button class="carousel-control-prev" type="button" data-bs-target="#heroMain" data-bs-slide="prev"><span class="carousel-control-prev-icon"></span></button>
            <button class="carousel-control-next" type="button" data-bs-target="#heroMain" data-bs-slide="next"><span class="carousel-control-next-icon"></span></button>
          </div>
        </div>
        <div class="col-md-4 d-flex flex-column gap-2">
          <img src="https://picsum.photos/600/145?random=21" class="w-100 rounded-3" alt="">
          <img src="https://picsum.photos/600/145?random=22" class="w-100 rounded-3" alt="">
        </div>
      </div>

      <!-- CATEGORY (2 h√†ng + m≈©i t√™n) -->
      <div class="category-box mb-3">
        <h6 class="fw-bold mb-2">QU√Ä T·∫∂NG TH∆Ø∆†NG HI·ªÜU</h6>
        <div class="category-wrapper">
          <div class="category-fade left" aria-hidden="true"></div>
          <div class="category-fade right" aria-hidden="true"></div>
          <button class="cat-arrow left" type="button" aria-label="prev" id="catPrev">‚Äπ</button>
          <div class="category-viewport">
            <div id="categoryTrack" class="category-track"><!-- JS inject pages --></div>
          </div>
          <button class="cat-arrow right" type="button" aria-label="next" id="catNext">‚Ä∫</button>
        </div>
      </div>

      <!-- Stats -->
      <div id="statsBar" class="mb-2 bg-white p-2 rounded-3 border">
        <div class="d-flex align-items-center gap-2">
          <span class="fw-semibold">T·ªîNG S·ªê S·∫¢N PH·∫®M T√åM TH·∫§Y:</span>
          <span id="totalCount" class="badge text-bg-primary">0</span>
          <button id="clearFiltersBtn2" class="btn btn-sm btn-outline-danger ms-auto">X√≥a b·ªô l·ªçc</button>
        </div>
      </div>

      <!-- Pagination Top -->
      <div id="pagerTop" class="mb-2 pager-bar"></div>

      <!-- Grid -->
      <div id="productGrid" class="row row-cols-2 row-cols-md-3 row-cols-lg-6 g-2"></div>

      <!-- Pagination Bottom -->
      <div id="pagerBottom" class="mt-3 pager-bar"></div>

      <!-- Footer ads -->
      <div class="my-3">
        <div id="footerAds" class="carousel slide" data-bs-ride="carousel" data-bs-interval="4000">
          <div class="carousel-inner">
            <div class="carousel-item active"><img src="https://picsum.photos/1200/200?random=91" class="d-block w-100 rounded-3" alt=""></div>
            <div class="carousel-item"><img src="https://picsum.photos/1200/200?random=92" class="d-block w-100 rounded-3" alt=""></div>
            <div class="carousel-item"><img src="https://picsum.photos/1200/200?random=93" class="d-block w-100 rounded-3" alt=""></div>
          </div>
          <button class="carousel-control-prev" type="button" data-bs-target="#footerAds" data-bs-slide="prev"><span class="carousel-control-prev-icon"></span></button>
          <button class="carousel-control-next" type="button" data-bs-target="#footerAds" data-bs-slide="next"><span class="carousel-control-next-icon"></span></button>
        </div>
      </div>
    </main>
  </div>
</div>

<!-- Offcanvas: Gi·ªè h√†ng -->
<div class="offcanvas offcanvas-end" tabindex="-1" id="cartCanvas" aria-labelledby="cartCanvasLabel">
  <div class="offcanvas-header" style="background:var(--main);color:#fff">
    <h5 id="cartCanvasLabel" class="mb-0">Gi·ªè h√†ng</h5>
    <button class="btn-close btn-close-white" data-bs-dismiss="offcanvas"></button>
  </div>
  <div class="offcanvas-body">
    <div id="cartList"></div>
    <div class="d-flex justify-content-between align-items-center my-2">
      <span>T·ªïng c·ªông</span><span id="cartTotal" class="fw-bold text-danger">0 ƒë</span>
    </div>
    <button class="btn btn-danger w-100 mb-2" id="clearCartBtn">X√≥a to√†n b·ªô</button>
    <input id="buyerName" class="form-control mb-2" placeholder="H·ªç v√† t√™n">
    <input id="buyerEmail" class="form-control mb-2" placeholder="Email">
    <input id="buyerPhone" class="form-control mb-2" placeholder="S·ªë ƒëi·ªán tho·∫°i">
    <input id="buyerAddress" class="form-control mb-2" placeholder="ƒê·ªãa ch·ªâ nh·∫≠n h√†ng">
    <textarea id="buyerNote" class="form-control mb-2" placeholder="Ghi ch√∫"></textarea>
    <label class="form-label">T·∫£i t·ªáp (t√πy ch·ªçn)</label>
    <input id="buyerFile" type="file" class="form-control mb-2" accept=".pdf,.doc,.docx,.xls,.xlsx,.png,.jpg,.jpeg,.zip">
    <div class="row g-2">
      <div class="col-12">
        <label class="form-label">D·ªãch v·ª• L·∫§Y B√ÅO GI√Å H·ªò (t√πy ch·ªçn)</label>
        <select id="servicePlan" class="form-select">
          <option value="">‚Äî Kh√¥ng ch·ªçn ‚Äî</option>
          <option value="100000-3">100.000 ƒë / 3 b√°o gi√°</option>
          <option value="500000-10">500.000 ƒë / 10 b√°o gi√°</option>
        </select>
      </div>
      <div class="col-12">
        <div class="form-check mt-2">
          <input class="form-check-input" type="checkbox" id="fileQuote">
          <label class="form-check-label" for="fileQuote">B√°o gi√° theo t·ªáp t·∫£i l√™n</label>
        </div>
      </div>
    </div>
    <div class="alert alert-secondary mt-3" style="font-size:12px">
      <div><strong>H∆∞·ªõng d·∫´n:</strong></div>
      <div>1) Ch·ªçn m·∫´u ho·∫∑c m√¥ t·∫£ s·∫£n ph·∫©m r·ªìi b·∫•m G·ª≠i.</div>
      <div>2) Ghi r√µ y√™u c·∫ßu ƒë·ªÉ ƒë∆∞·ª£c t∆∞ v·∫•n nhanh h∆°n.</div>
      <div>3) CSKH s·∫Ω li√™n h·ªá trong v√≤ng 24h.</div>
    </div>
    <button class="btn btn-success w-100" id="submitOrderBtn">G·ª≠i ƒë∆°n h√†ng</button>
  </div>
</div>

<!-- Offcanvas: B·ªô l·ªçc (r√∫t g·ªçn) -->
<div class="offcanvas offcanvas-end" tabindex="-1" id="filterPanel">
  <div class="offcanvas-header">
    <h5 class="mb-0">B·ªô l·ªçc n√¢ng cao</h5>
    <div class="d-flex gap-2">
      <button type="button" class="btn btn-outline-danger btn-sm" id="clearFiltersBtn">X√≥a b·ªô l·ªçc</button>
      <button class="btn-close" data-bs-dismiss="offcanvas"></button>
    </div>
  </div>
  <div class="offcanvas-body">
    <h6>·∫§N PH·∫®M TH∆Ø∆†NG HI·ªÜU</h6><div id="brandBox" class="mb-3"></div>
    <h6>TYPE</h6><div id="typeBox" class="mb-3"></div>
    <h6>LO·∫†I S·∫¢N PH·∫®M</h6><div id="loaiBox" class="mb-3"></div>
    <h6>CH√ö √ù</h6><div id="noteBox" class="mb-3"></div>
  </div>
</div>

<!-- FAB -->
<button id="cartFab" class="cart-fab btn btn-primary position-fixed" style="right:16px;bottom:16px;border-radius:999px">üõí</button>

<div id="errbox"></div>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
<script>
/* ================== CONFIG ================== */
const API_URL = "https://script.google.com/macros/s/AKfycbxaE5kbfvO-7vC9AmDGtqyCccZqPQ01lKnT4vDETRVgLB90YTkNgVlH5Rn4OKRJ4Enk/exec";
const API_KEY = "";
const state = { page:1, pageSize:36, q:'', group:'', type:'', loai:'', note:'', category:'', totalPages:1 };
const cart = []; const products = {};

/* ================== UTILS ================== */
const fmtVND = n => (Number(n)||0).toLocaleString('vi-VN') + ' ƒë';
const esc = s => (s??'').toString().replace(/[&<>"]/g,c=>({'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;'}[c]));

/* ================== PRODUCT CARD ================== */
function productCardHtml(it){
  products[it.id]=it;
  return `<div class="col"><div class="cardx">
    <a href="${esc(it.linkFull||'#')}" target="_blank" rel="noopener">
      <img class="thumb" src="${esc(it.img)}" alt="${esc(it.id)}"
           onerror="this.src='https://via.placeholder.com/300x300?text=No+Image'">
    </a>
    <div class="meta">
      <div class="id">${esc(it.id)}</div>
      <div class="details">${esc(it.details||'')}</div>
      <div class="price">${fmtVND(it.price)}</div>
      <button class="add-btn" data-action="add-to-cart" data-id="${esc(it.id)}">+</button>
    </div>
  </div></div>`;
}

/* ================== PAGER ================== */
function pagerHtml(current, total){
  const disPrev = current<=1?'disabled':''; const disNext=current>=total?'disabled':'';
  return `<div class="btn-group">
    <button class="btn btn-outline-secondary" data-action="page-prev" ${disPrev}>‚Äπ</button>
    <button class="btn btn-outline-secondary disabled">Trang ${current}/${total}</button>
    <button class="btn btn-outline-secondary" data-action="page-next" ${disNext}>‚Ä∫</button>
  </div>`;
}
function renderPagination(totalItems){
  const totalPages = Math.max(1, Math.ceil((totalItems||0)/state.pageSize));
  state.totalPages = totalPages;
  document.getElementById('pagerTop').innerHTML=pagerHtml(state.page,totalPages);
  document.getElementById('pagerBottom').innerHTML=pagerHtml(state.page,totalPages);
}

/* ================== GROUP BAR ================== */
function buildGroupBar(items){
  const box=document.getElementById('groupScroll');
  if(!box) return;
  const groups=[...new Set(items.map(it=>(it.group||'').trim()).filter(Boolean))];
  groups.sort();
  box.innerHTML=['T·∫•t c·∫£',...groups].map(g=>{
    const active=(state.group===''&&g==='T·∫•t c·∫£')||state.group===g;
    return `<div class="group-item ${active?'active':''}" data-action="set-group" data-val="${g==='T·∫•t c·∫£'?'':g}">${g}</div>`;
  }).join('');
}

/* ================== CATEGORY v2 ================== */
let catPage=0, catPages=[];
function buildCategory(items){
  const perPage=12; catPages=[];
  for(let i=0;i<items.length;i+=perPage){ catPages.push(items.slice(i,i+perPage)); }
  catPage=0; renderCategory();
}
function renderCategory(){
  const track=document.getElementById('categoryTrack');
  track.innerHTML=catPages.map(page=>{
    return `<div class="category-page">`+page.map(val=>
      `<div class="category-item ${state.category===val?'active':''}" data-action="set-category" data-val="${esc(val)}">
         <div class="icon"><img src="https://img.icons8.com/color/48/gift.png"></div>
         <span>${esc(val||'Kh√°c')}</span>
       </div>`).join('')+`</div>`;
  }).join('');
  track.style.transform=`translateX(-${catPage*100}%)`;
  document.getElementById('catPrev').disabled=catPage<=0;
  document.getElementById('catNext').disabled=catPage>=catPages.length-1;
}

/* ================== CART ================== */
function addToCartById(id){ const it=products[id]; if(!it) return;
  const f=cart.find(p=>p.id===id); if(f) f.qty++; else cart.push({...it,qty:1}); updateCart(); }
function changeQty(id,d){ const it=cart.find(p=>p.id===id); if(!it)return;
  it.qty+=d; if(it.qty<=0) cart.splice(cart.indexOf(it),1); updateCart();}
function removeItem(id){const i=cart.findIndex(p=>p.id===id); if(i>=0) cart.splice(i,1); updateCart();}
function clearCart(){ if(confirm("X√≥a to√†n b·ªô gi·ªè h√†ng?")){cart.length=0;updateCart();}}
function updateCart(){
  const list=document.getElementById('cartList'); let total=0;
  list.innerHTML=cart.map(it=>{const sub=it.qty*(Number(it.price)||0); total+=sub;
    return `<div class="d-flex align-items-center gap-2 border-bottom py-2">
      <img src="${esc(it.img)}" style="width:50px;height:50px;object-fit:cover;border-radius:4px">
      <div class="flex-grow-1"><div class="small fw-bold">${esc(it.details||it.id)}</div><div class="text-muted small">${fmtVND(it.price)}</div></div>
      <div class="d-flex align-items-center gap-1">
        <button class="btn btn-sm btn-outline-secondary" data-action="qty" data-id="${esc(it.id)}" data-delta="-1">-</button>
        <span>${it.qty}</span>
        <button class="btn btn-sm btn-outline-secondary" data-action="qty" data-id="${esc(it.id)}" data-delta="1">+</button>
      </div>
      <div class="small" style="min-width:80px;text-align:right">${fmtVND(sub)}</div>
      <button class="btn btn-sm btn-link text-danger" data-action="remove" data-id="${esc(it.id)}">&times;</button>
    </div>`;
  }).join('');
  document.getElementById('cartTotal').innerText=fmtVND(total);
}

/* ================== API + RENDER ================== */
function render(res){
  const items=res?.items||[];
  buildGroupBar(items);
  buildCategory(res?.facets?.categories||[]);
  const grid=document.getElementById('productGrid');
  grid.innerHTML=items.length?items.map(productCardHtml).join(''):'<div class="text-muted">Kh√¥ng c√≥ s·∫£n ph·∫©m.</div>';
  document.getElementById('totalCount').innerText=Number(res?.total||0).toLocaleString('vi-VN');
  renderPagination(res?.total||0);
}
function fetchPage(){
  const qs=new URLSearchParams({action:'list',page:state.page,pageSize:state.pageSize,
    q:state.q,group:state.group,type:state.type,loai:state.loai,note:state.note,category:state.category});
  fetch(API_URL+'?'+qs.toString()).then(r=>r.json()).then(res=>render(res))
    .catch(()=>{document.getElementById('productGrid').innerHTML='<div class="text-danger">Kh√¥ng t·∫£i ƒë∆∞·ª£c d·ªØ li·ªáu.</div>';});
}

/* ================== EVENTS ================== */
document.addEventListener('click',e=>{
  const el=e.target;
  if(el.matches('[data-action="add-to-cart"]')) addToCartById(el.dataset.id);
  if(el.matches('[data-action="qty"]')) changeQty(el.dataset.id, Number(el.dataset.delta));
  if(el.matches('[data-action="remove"]')) removeItem(el.dataset.id);
  if(el.matches('#clearCartBtn')) clearCart();
  if(el.matches('[data-action="page-prev"]')&&state.page>1){state.page--;fetchPage();}
  if(el.matches('[data-action="page-next"]')&&state.page<state.totalPages){state.page++;fetchPage();}
  if(el.matches('[data-action="set-group"]')){state.group=el.dataset.val||'';state.page=1;fetchPage();}
  if(el.matches('[data-action="set-category"]')){state.category=el.dataset.val||'';state.page=1;fetchPage();}
  if(el.matches('#searchBtn')){state.q=document.getElementById('searchBox').value.trim();state.page=1;fetchPage();}
});
document.getElementById('searchBox').addEventListener('keydown',e=>{
  if(e.key==='Enter'){e.preventDefault();document.getElementById('searchBtn').click();}
});
document.getElementById('catPrev').addEventListener('click',()=>{if(catPage>0){catPage--;renderCategory();}});
document.getElementById('catNext').addEventListener('click',()=>{if(catPage<catPages.length-1){catPage++;renderCategory();}});
document.getElementById('cartFab').addEventListener('click',()=>bootstrap.Offcanvas.getOrCreateInstance(document.getElementById('cartCanvas')).toggle());
document.getElementById('clearFiltersBtn').addEventListener('click',()=>{state.type='';state.loai='';state.note='';state.category='';state.group='';state.q='';document.getElementById('searchBox').value='';fetchPage();});
document.getElementById('clearFiltersBtn2').addEventListener('click',()=>{state.type='';state.loai='';state.note='';state.category='';state.group='';state.q='';document.getElementById('searchBox').value='';fetchPage();});

/* INIT */
fetchPage();
</script>

<!-- ===== FOOTER ===== -->
<footer class="text-light" style="background:#0018a8;">
  <div class="container">
    <div class="row pt-5 pb-3">
      <div class="col-md-3 mb-4 text-center">
        <img src="https://drive.google.com/uc?export=view&id=1e9N6rgsTP5vYtKl4Lwq801dfteYLbx_F" alt="2606AI logo" class="mb-3 d-block mx-auto" style="max-width:160px;height:auto">
        <p class="small mb-0 opacity-90">D·ªãch v·ª• h·ªó tr·ª£ s·∫£n xu·∫•t ·∫•n ph·∫©m th∆∞∆°ng hi·ªáu t·ª´ thi·∫øt k·∫ø ƒë·∫øn th√†nh ph·∫©m.<br>Tham kh·∫£o m·∫´u - T∆∞ v·∫•n - Thi·∫øt k·∫ø - L·∫•y b√°o gi√° - ƒê·∫∑t h√†ng - V·∫≠n chuy·ªÉn.</p>
      </div>
      <div class="col-md-3 mb-4">
        <h6 class="fw-bold text-uppercase mb-3" style="color:#d4af37;">Li√™n k·∫øt nhanh</h6>
        <ul class="list-unstyled small">
          <li><a href="#" class="link-light text-decoration-none">V·ªÅ ch√∫ng t√¥i</a></li>
          <li><a href="#" class="link-light text-decoration-none">Danh m·ª•c s·∫£n ph·∫©m</a></li>
          <li><a href="#" class="link-light text-decoration-none">B√°o gi√° nhanh</a></li>
          <li><a href="#" class="link-light text-decoration-none">FAQ</a></li>
        </ul>
      </div>
      <div class="col-md-3 mb-4">
        <h6 class="fw-bold text-uppercase mb-3" style="color:#d4af37;">Ch√≠nh s√°ch</h6>
        <ul class="list-unstyled small">
          <li><a href="#" class="link-light text-decoration-none">V·∫≠n chuy·ªÉn</a></li>
          <li><a href="#" class="link-light text-decoration-none">ƒê·ªïi tr·∫£</a></li>
          <li><a href="#" class="link-light text-decoration-none">ƒê·∫∑t h√†ng</a></li>
          <li><a href="#" class="link-light text-decoration-none">B·∫£o m·∫≠t</a></li>
        </ul>
      </div>
      <div class="col-md-3 mb-4">
        <h6 class="fw-bold text-uppercase mb-3" style="color:#d4af37;">Li√™n h·ªá</h6>
        <p class="small mb-1">üìç 123 ƒê∆∞·ªùng ABC, Qu·∫≠n 1, TP.HCM</p>
        <p class="small mb-1">‚òé 0909 123 456</p>
        <p class="small mb-1">‚úâ info@2606ai.vn</p>
      </div>
    </div>
    <hr class="border-light opacity-50">
    <div class="text-center small pb-3">¬© 2025 <span style="color:#d4af37;">2606AI</span>. Ph√°t tri·ªÉn b·ªüi 2606AI.</div>
  </div>
</footer>

</body>
</html>
