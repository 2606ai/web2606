<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1.0">
<title>2606AI - Tham kh·∫£o & B√°o gi√° s·∫£n ph·∫©m</title>
<link rel="icon" href="/favicon.ico">
<style>
/* 2606AI Clean Theme v2  ‚Äî  drop-in CSS */
/* FONT */
@import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&display=swap');

/* TOKENS */
:root{
  --bg:#f6f8f7; --card:#ffffff; --ink:#102a1c; --muted:#6b7280;
  --line:#e7ece9; --brand:#1e7a3a; --brand-2:#0f5526; --soft:#e9f5ee;
  --danger:#b61f2e; --warn:#895200;
  --r:18px; --r-btn:12px;
  --shadow-sm:0 2px 8px rgba(0,0,0,.05);
  --shadow-md:0 12px 28px rgba(16,24,24,.08);
  --shadow-lg:0 18px 44px rgba(16,24,24,.12);
}

*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;background:var(--bg);color:var(--ink);
  font:14px/1.5 Inter, system-ui, -apple-system, "Segoe UI", Roboto, Arial, sans-serif;
  letter-spacing:.1px;
}

/* CONTAINER WIDTHS (gi·ªØ c·∫•u tr√∫c c≈©) */
:is(header,#topNotice,main,footer,#copyright){max-width:1240px;margin:0 auto;padding:0 16px}

/* HEADER */
header{
  display:flex;align-items:center;gap:14px;justify-content:space-between;
  padding:12px 0;background:#fff;border-radius:0 0 var(--r) var(--r);
  box-shadow:var(--shadow-sm)
}
header img{height:40px;object-fit:contain}
header input{
  flex:1;padding:10px 14px;border:1px solid var(--line);border-radius:28px;outline:0
}
header button{
  background:linear-gradient(90deg,var(--brand),var(--brand-2));color:#fff;
  border:0;padding:10px 18px;border-radius:28px;cursor:pointer;font-weight:800
}

/* NOTICE STRIP */
#topNotice{
  margin-top:8px;padding:8px 12px;border-radius:12px;
  background:linear-gradient(90deg,var(--brand),var(--brand-2));
  color:#fff;font-size:13px;font-weight:700;text-align:center
}

/* ======= LAYOUT: ƒë∆∞a c·ªôt tr√°i l√™n tr√™n c√πng ======= */
/* Kh√¥ng ƒë·ªïi HTML: ta d√πng grid-area ƒë·ªÉ #leftColumn chi·∫øm h√†ng ƒë·∫ßu */
main{
  display:grid;grid-template-columns:1fr;grid-template-areas:
    "left"
    "content";
  gap:16px;padding:16px 0;
}
/* g√°n area theo id c≈© */
#leftColumn{grid-area:left}
#contentArea{grid-area:content}

/* ======= LEFT COLUMN (Benefits + Suppliers) ======= */
#leftColumn{display:grid;grid-template-columns:1fr 1fr;gap:16px}
@media (max-width: 960px){ #leftColumn{grid-template-columns:1fr} }

.panel{
  background:var(--card);border:1px solid var(--line);border-radius:var(--r);
  box-shadow:var(--shadow-sm);padding:14px
}

/* Benefits (timeline) */
#leftColumn h3{margin:0 0 8px}
.benefit-list{list-style:none;margin:6px 0 0;padding:0}
.benefit-list li{
  display:grid;grid-template-columns:32px 1fr auto;gap:10px;align-items:center;
  padding:12px 8px;border-top:1px dashed var(--line)
}
.benefit-list li:first-child{border-top:0}
.benefit-list .n{
  width:32px;height:32px;border-radius:12px;background:var(--soft);color:var(--brand);
  display:grid;place-items:center;font-weight:800
}
.benefit-list .title{font-weight:800}
.benefit-list .sub{color:var(--muted);font-size:12px;margin-top:2px}
.tag{
  font-size:12px;padding:4px 10px;border-radius:999px;border:1px solid var(--line);font-weight:800;white-space:nowrap
}
.tag--free{background:#eaf7ee;color:#156f3a;border-color:#cfe9d6}
.tag--paid{background:#fff4f4;color:var(--danger);border-color:#ffd6d6}

/* Suppliers */
.suppliers .sup-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:6px}
.suppliers .sup-header h4{margin:0}
.suppliers .count{
  background:#0f3c19;color:#fff;border-radius:10px;padding:2px 8px;font-size:12px;font-weight:800
}
.sup-list{display:flex;flex-direction:column;gap:10px;max-height:420px;overflow:auto;padding-right:4px}
.sup{
  display:grid;grid-template-columns:48px 1fr;gap:10px;align-items:center;
  background:#fbfffd;border:1px dashed #d6eadc;border-radius:14px;padding:10px
}
.sup .avt{width:48px;height:48px;border-radius:14px;background:#eef5f0}
.sup .info .name{font-weight:800}
.sup .info .line{color:var(--muted);font-size:12px;margin-top:2px}
.sup .chips{display:flex;gap:6px;margin-top:6px}
.sup .chip{font-size:11px;padding:2px 6px;border-radius:999px;border:1px solid var(--line);background:#fff}
.sup .chip--ok{background:#e8f6ed;color:#1c6a39;border-color:#cfeadc}
.sup .chip--muted{background:#f2f4f5;color:#6b7280;border-color:#e5eaee}

/* ======= HERO (slides) ‚Äî T·ªà L·ªÜ 1:1 ======= */
#contentArea{display:flex;flex-direction:column;gap:16px}
#hero{display:grid;grid-template-columns:1fr 1fr 1fr;gap:12px}
#hero img{
  width:100%;aspect-ratio:1/1;object-fit:cover;border-radius:var(--r);display:block;
  box-shadow:var(--shadow-sm);transition:transform .2s ease
}
#hero img:hover{transform:scale(1.02)}
@media (max-width: 960px){ #hero{grid-template-columns:1fr 1fr} }
@media (max-width: 640px){ #hero{grid-template-columns:1fr} }

/* ======= GROUPS + SUBCATS (chips) ======= */
#groups,#subcats{display:flex;flex-wrap:wrap;gap:10px}
#groups button,#subcats button{
  border:1px solid var(--line);border-radius:999px;background:#fff;color:var(--ink);
  padding:10px 14px;font-weight:800;cursor:pointer
}
#groups button:hover,#subcats button:hover{background:var(--soft)}
#groups button.active{background:linear-gradient(90deg,var(--brand),var(--brand-2));color:#fff;border-color:transparent}

/* ======= TOOLBAR (sticky) ======= */
#toolbar{
  position:sticky;top:8px;z-index:5;background:var(--bg);padding:6px 0;
  display:flex;align-items:center;gap:10px;justify-content:space-between
}
#toolbar span{color:var(--muted)}
#toolbar .btn-mini{border:1px solid var(--line);background:#fff;border-radius:var(--r-btn);padding:9px 12px;font-weight:700;cursor:pointer}

/* ======= CARDS ‚Äî 1:1 IMAGE ======= */
#cards{display:grid;grid-template-columns:repeat(5,1fr);gap:16px}
@media (max-width:1200px){ #cards{grid-template-columns:repeat(4,1fr)} }
@media (max-width:960px){  #cards{grid-template-columns:repeat(3,1fr)} }
@media (max-width:700px){  #cards{grid-template-columns:repeat(2,1fr)} }
@media (max-width:380px){  #cards{grid-template-columns:1fr} }

.card{
  background:#fff;border:1px solid var(--line);border-radius:var(--r);overflow:hidden;
  box-shadow:var(--shadow-md);display:flex;flex-direction:column;
  transition:transform .16s ease, box-shadow .16s ease
}
.card:hover{transform:translateY(-6px);box-shadow:var(--shadow-lg)}
.card .thumb{
  width:100%;aspect-ratio:1/1;background:#f3f5f3 center/cover no-repeat;border-bottom:1px solid var(--line)
}
.card .content{padding:14px 14px 16px;display:flex;flex-direction:column;gap:10px;flex:1}
.card .title{font-size:15px;font-weight:800;color:var(--ink);margin:0}
.card .desc{
  color:var(--muted);font-size:13px;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden
}
.card .meta{display:flex;justify-content:space-between;align-items:center;margin-top:2px}
.card .price{color:var(--danger);font-weight:800}
.card .badges{display:flex;gap:6px;flex-wrap:wrap}
.badge-small{font-size:11px;padding:4px 8px;border-radius:999px;border:1px solid var(--line);background:#fff}
.badge-green{background:#eaf7ee;border-color:#cfe9d6;color:#166a35}
.badge-yellow{background:#fff9ec;border-color:#ffe7c0;color:var(--warn)}
.card .actions{display:flex;gap:8px;margin-top:10px}
.btn-mini{padding:9px 12px;border-radius:var(--r-btn);border:1px solid var(--line);background:#fff;cursor:pointer;font-weight:800}
.btn-mini.primary{background:linear-gradient(90deg,var(--brand),var(--brand-2));color:#fff;border-color:transparent}

/* Ribbon (tu·ª≥ ch·ªçn, n·∫øu b·∫°n th√™m qua JS) */
.card{position:relative}
.card .ribbon{
  position:absolute;top:10px;left:-6px;background:linear-gradient(90deg,#ff7a00,#ffb300);
  color:#fff;padding:4px 10px;font-size:11px;font-weight:800;border-radius:6px;
  box-shadow:0 10px 20px rgba(255,122,0,.25)
}

/* ======= PAGINATION ======= */
#pagination{display:flex;gap:8px;justify-content:flex-end;align-items:center}
#pagination select,#pagination button{
  padding:9px 12px;border-radius:var(--r-btn);border:1px solid var(--line);background:#fff;font-weight:700
}

/* ======= FOOTER ======= */
footer{
  margin-top:18px;background:linear-gradient(180deg,var(--brand),var(--brand-2));color:#fff;
  padding:40px 20px;border-radius:18px 18px 0 0;display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:20px
}
footer h4{margin:0 0 10px}
footer a{color:#dcffe0;text-decoration:none}
footer a:hover{text-decoration:underline}
#copyright{color:#8ed19a;font-size:13px;text-align:center;padding:10px 0 18px}

/* ======= FAB (4 n√∫t: Filter, Cart, Suppliers, Zalo) ======= */
#fab{
  position:fixed;right:20px;bottom:20px;display:flex;flex-direction:column;gap:12px;z-index:900
}
.fab-btn{
  width:52px;height:52px;border-radius:14px;border:0;cursor:pointer;color:#fff;font-size:20px;
  background:linear-gradient(180deg,var(--brand),var(--brand-2));box-shadow:0 14px 28px rgba(0,0,0,.16);
  display:grid;place-items:center;transition:transform .15s ease, box-shadow .15s ease
}
.fab-btn:hover{transform:translateY(-3px);box-shadow:0 18px 36px rgba(0,0,0,.22)}
/* badge ƒë·∫øm filter/cart */
.badge{
  position:absolute;top:4px;right:4px;background:#e30613;color:#fff;border-radius:999px;font-size:11px;padding:2px 6px;line-height:1
}
.hidden{display:none}

/* N·∫øu b·∫°n ph√¢n lo·∫°i t·ª´ng n√∫t, c√≥ th·ªÉ d√πng class ri√™ng (kh√¥ng b·∫Øt bu·ªôc) */
.fab--filter{}
.fab--cart{}
.fab--sup{}
.fab--zalo{background:linear-gradient(180deg,#0084ff,#006ad1)} /* m√†u Zalo */

@media (max-width: 560px){
  /* FAB chuy·ªÉn th√†nh dock ngang tr√™n mobile */
  #fab{right:50%;transform:translateX(50%);flex-direction:row;bottom:16px}
}

</style>
</head>

<body>
<header>
  <img src="https://2606ai.vn/logo.png" alt="2606AI logo">
  <input id="q" type="text" placeholder="T√¨m s·∫£n ph·∫©m... (ID, m√¥ t·∫£)">
  <button id="btnSearch">T√¨m</button>
</header>

<div id="topNotice">ƒê·ªÉ ƒë·∫£m b·∫£o quy·ªÅn l·ª£i, h√£y th√¥ng b√°o v·ªõi 2606AI.VN khi ch·ªët ƒë∆°n h√†ng ‚Ä¢ Ngu·ªìn thu c·ªßa 2606AI.VN ƒë·∫øn t·ª´ qu·∫£ng c√°o</div>

<main>
  <!-- LEFT -->
  <aside id="leftColumn">
    <div class="panel benefits">
      <h3>Ch√∫ng t√¥i c√≥ g√¨ cho b·∫°n‚Ä¶</h3>
      <ul class="benefit-list">
        <li><div class="n">1</div><div class="txt"><div class="title">Tham kh·∫£o 10,000+ m·∫´u s·∫£n ph·∫©m</div><div class="sub">Kh√¥ng t∆∞·ªüng</div></div><span class="tag tag--free">Mi·ªÖn ph√≠</span></li>
        <li><div class="n">2</div><div class="txt"><div class="title">H∆°n 500+ nh√† cung c·∫•p v√† x∆∞·ªüng s·∫£n xu·∫•t</div><div class="sub">B√°o gi√° nhanh, d·ªÖ d√†ng so s√°nh</div></div><span class="tag tag--free">Mi·ªÖn ph√≠</span></li>
        <li><div class="n">3</div><div class="txt"><div class="title">H·ªó tr·ª£ t∆∞ v·∫•n s·∫£n xu·∫•t</div><div class="sub">Ph·∫£n h·ªìi nhanh, nhi·ªÅu nhu c·∫ßu</div></div><span class="tag tag--free">Mi·ªÖn ph√≠</span></li>
        <li><div class="n">4</div><div class="txt"><div class="title">H·ªó tr·ª£ thi·∫øt k·∫ø 2D, 3D s·∫£n xu·∫•t</div><div class="sub">Mockup mi·ªÖn ph√≠ c√°c ƒë∆°n h√†ng ch·ªët</div></div><span class="tag tag--free">Mi·ªÖn ph√≠</span></li>
        <li><div class="n">5</div><div class="txt"><div class="title">H·∫≠u c·∫ßn v·∫≠n chuy·ªÉn v√† ƒë√≥ng g√≥i h√†ng</div><div class="sub">D·ªãch v·ª• v·∫≠n chuy·ªÉn chuy√™n nghi·ªáp</div></div><span class="tag tag--paid">C√≥ ph√≠</span></li>
        <li><div class="n">6</div><div class="txt"><div class="title">H·ªó tr·ª£ gi·∫£i quy·∫øt tranh ch·∫•p</div><div class="sub">B·∫£o v·ªá quy·ªÅn l·ª£i kh√°ch h√†ng</div></div><span class="tag tag--paid">C√≥ ph√≠</span></li>
      </ul>
    </div>

    <div class="panel suppliers">
      <div class="sup-header"><h4>X∆∞·ªüng ƒë·ªÅ xu·∫•t</h4><span class="count" id="supCount">10</span></div>
      <div id="supList" class="sup-list">
        <div class="sup"><div class="avt"></div><div class="info"><div class="name"><a href="#">ABC Gift</a></div><div class="line">TPHCM ‚Äî M√≥c kh√≥a, huy hi·ªáu</div><div class="chips"><span class="chip">C√≥ website</span><span class="chip">T·∫£i t·ªáp</span></div></div></div>
        <div class="sup"><div class="avt"></div><div class="info"><div class="name"><a href="#">C√î N√ä</a></div><div class="line">T√¢n B√¨nh ‚Äî Qu√† t·∫∑ng doanh nghi·ªáp</div><div class="chips"><span class="chip">C√≥ website</span><span class="chip">T·∫£i t·ªáp</span></div></div></div>
      </div>
    </div>
  </aside>

  <!-- RIGHT -->
  <section id="contentArea">
    <section id="hero">
      <img src="https://placehold.co/800x300?text=HERO+1" alt="Hero 1">
      <div>
        <img src="https://placehold.co/400x145?text=HERO+2" alt="Hero 2" style="margin-bottom:8px;">
        <img src="https://placehold.co/400x145?text=HERO+3" alt="Hero 3">
      </div>
    </section>

    <section id="groups">
      <button>QU√Ä T·∫∂NG 247 EXPRESS</button>
      <button>MAY M·∫∂C TH·ªúI TRANG</button>
      <button>ƒê·ªí DA CAO C·∫§P</button>
      <button>QU√Ä T·∫∂NG DOANH NGHI·ªÜP</button>
    </section>

    <section id="subcats">
      <button>T√öI V·∫¢I</button><button>D√ÇY N·ªäT</button><button>CH·ªà MAY</button><button>V√ç DA</button>
    </section>

    <div id="toolbar">
      <span>T√¨m th·∫•y <b id="total">0</b> s·∫£n ph·∫©m</span>
      <button id="btnClear" class="btn-mini">X√≥a b·ªô l·ªçc</button>
      <select id="pageSel"></select>
    </div>

    <div id="cards"></div>

    <div id="pagination">
      <button id="prev">‚Äπ</button>
      <select id="pageSel2"></select>
      <button id="next">‚Ä∫</button>
    </div>
  </section>
</main>

<footer>
  <div>
    <img src="https://2606ai.vn/logo.png" alt="2606AI logo" height="40">
    <p>D·ªãch v·ª• h·ªó tr·ª£ s·∫£n xu·∫•t ·∫•n ph·∫©m th∆∞∆°ng hi·ªáu t·ª´ thi·∫øt k·∫ø ƒë·∫øn th√†nh ph·∫©m.<br>Tham kh·∫£o m·∫´u - T∆∞ v·∫•n - Thi·∫øt k·∫ø - B√°o gi√° - ƒê·∫∑t h√†ng - V·∫≠n chuy·ªÉn.</p>
  </div>
  <div>
    <h4>LI√äN K·∫æT NHANH</h4>
    <a href="#">V·ªÅ ch√∫ng t√¥i</a><br><a href="#">Danh m·ª•c s·∫£n ph·∫©m</a><br><a href="#">B√°o gi√° nhanh</a><br><a href="#">C√¢u h·ªèi th∆∞·ªùng g·∫∑p</a>
  </div>
  <div>
    <h4>CH√çNH S√ÅCH</h4>
    <a href="#">Ch√≠nh s√°ch v·∫≠n chuy·ªÉn</a><br><a href="#">Ch√≠nh s√°ch ƒë·ªïi tr·∫£</a><br><a href="#">H∆∞·ªõng d·∫´n ƒë·∫∑t h√†ng</a><br><a href="#">Ch√≠nh s√°ch b·∫£o m·∫≠t</a>
  </div>
  <div>
    <h4>LI√äN H·ªÜ</h4>
    <p>ƒê·ªãa ch·ªâ: 123 ƒê∆∞·ªùng ABC, Qu·∫≠n 1, TP.HCM<br>Hotline: 0909 123 456<br>Email: info@2606ai.vn</p>
  </div>
</footer>
<div id="copyright">¬© 2025 2606AI. Website ƒë∆∞·ª£c ph√°t tri·ªÉn b·ªüi 2606AI.</div>

<!-- FAB -->
<div id="fab">
  <button id="btnCart" class="fab-btn">üõí<span id="cartCount" class="badge hidden">0</span></button>
  <button id="btnSup" class="fab-btn">üè≠</button>
  <button id="btnFilter" class="fab-btn">‚öôÔ∏è<span id="filterCount" class="badge hidden">0</span></button>
</div>

<script>
/* === JS === */
function fmtVND(n){try{return Number(n||0).toLocaleString('vi-VN')+' ƒë'}catch(e){return n}}
function mk(tag,attrs={},children=[]){const el=document.createElement(tag);for(const k in attrs){if(k==='class')el.className=attrs[k];else if(k.startsWith('data-'))el.setAttribute(k,attrs[k]);else if(k==='html')el.innerHTML=attrs[k];else el[k]=attrs[k];}(Array.isArray(children)?children:[children]).forEach(c=>{if(!c)return;if(typeof c==='string')el.appendChild(document.createTextNode(c));else el.appendChild(c)});return el}

const API_BASE='https://script.google.com/macros/s/AKfycbwFvoS6TSdj4ADked9RyTvG-A1fFfrkvqIJpeyNXy2bUqFpF07DEnHRx6O0TKlmZXkp/exec'  // ƒë·ªïi n·∫øu c·∫ßn endpoint ngo√†i
const state={q:'',page:1,pageSize:36,total:0,filters:{group:'',type:'',loai:'',note:'',category:''}}

async function apiList({q='',page=1,pageSize=36,filters={}}={}){
  const params=new URLSearchParams();params.set('action','list');params.set('page',page);params.set('pageSize',pageSize);if(q)params.set('q',q);
  for(const k in filters)if(filters[k])params.set(k,filters[k]);
  const url=API_BASE+'?'+params.toString();const cacheKey='list:'+btoa(url);
  try{const c=sessionStorage.getItem(cacheKey);if(c)return JSON.parse(c)}catch(e){}
  const r=await fetch(url);if(!r.ok)throw new Error('Network');const d=await r.json();try{sessionStorage.setItem(cacheKey,JSON.stringify(d))}catch(e){}
  return d;
}

function createCard(it){
  const img=it.img||'https://placehold.co/400x300?text=IMG';
  const title=it.id||'S·∫£n ph·∫©m';
  const desc=it.details||it.search||'M√¥ t·∫£ s·∫£n ph·∫©m';
  const price=it.price?fmtVND(it.price):'Li√™n h·ªá';
  const card=mk('article',{class:'card'},[
        mk('img',{class:'thumb',src:img,alt:title,loading:'lazy'}),
    mk('div',{class:'content'},[
      mk('h3',{class:'title'},title),
      mk('div',{class:'desc'},desc),
      mk('div',{class:'meta'},[
        mk('div',{class:'price'},price),
        mk('div',{class:'badges'},[
          it.note ? mk('span',{class:'badge-small badge-green'},it.note) : '',
          it.type ? mk('span',{class:'badge-small'},it.type) : ''
        ])
      ]),
      mk('div',{class:'actions'},[
        mk('button',{class:'btn-mini',onclick:()=>addToCart(it)},'Ôºã'),
        mk('a',{class:'btn-mini primary',href:it.linkFull||'#',target:'_blank'},'Chi ti·∫øt')
      ])
    ])
  ]);
  return card;
}

/* === renderCards === */
async function renderCards(){
  const wrap=document.getElementById('cards');
  wrap.innerHTML='';
  for(let i=0;i<8;i++){
    const s=mk('div',{class:'card'},'<div class="thumb" style="background:#f3f5f3"></div><div class="content"><div style="height:10px;background:#eee;margin-bottom:8px;border-radius:6px"></div></div>');
    wrap.appendChild(s);
  }
  try{
    const resp=await apiList({q:state.q,page:state.page,pageSize:state.pageSize,filters:state.filters});
    const items=resp.items||[];
    state.total=resp.total||items.length;
    wrap.innerHTML='';
    if(!items.length){wrap.innerHTML='<div style="padding:20px;color:#666">Kh√¥ng t√¨m th·∫•y s·∫£n ph·∫©m.</div>';return;}
    items.forEach(it=>wrap.appendChild(createCard(it)));
    document.getElementById('total').textContent=state.total;
    renderPagination();
  }catch(e){wrap.innerHTML='<div style="padding:20px;color:red">L·ªói khi t·∫£i d·ªØ li·ªáu.</div>';console.error(e);}
}

/* === Pagination === */
function renderPagination(){
  const sel=document.getElementById('pageSel2')||document.getElementById('pageSel');
  const pages=Math.max(1,Math.ceil(state.total/state.pageSize));
  sel.innerHTML='';
  for(let p=1;p<=pages;p++){
    const o=document.createElement('option');
    o.value=p;o.textContent=`Trang ${p}/${pages}`;if(p===state.page)o.selected=true;sel.appendChild(o);
  }
  document.getElementById('prev').disabled=state.page<=1;
  document.getElementById('next').disabled=state.page>=pages;
}

/* === Filter count === */
function updateFilterCount(){
  const n=Object.values(state.filters).filter(v=>v&&v.trim()!=='').length;
  const b=document.getElementById('filterCount');
  if(!b)return;
  if(n>0){b.textContent=n;b.classList.remove('hidden');}
  else b.classList.add('hidden');
}

/* === Cart local === */
function loadCart(){try{return JSON.parse(localStorage.getItem('cart')||'[]')}catch(e){return[]}}
function saveCart(c){localStorage.setItem('cart',JSON.stringify(c))}
function addToCart(it){
  const c=loadCart();c.push({id:it.id,title:it.details||it.id,price:it.price||0,img:it.img});
  saveCart(c);
  const el=document.getElementById('cartCount');
  if(el){el.textContent=c.length;el.classList.remove('hidden');}
  alert('ƒê√£ th√™m v√†o gi·ªè h√†ng');
}

/* === INIT === */
document.addEventListener('DOMContentLoaded',()=>{
  renderCards();updateFilterCount();
  const q=document.getElementById('q');
  let t;
  q?.addEventListener('input',e=>{
    clearTimeout(t);t=setTimeout(()=>{
      state.q=e.target.value.trim();state.page=1;
      try{sessionStorage.clear()}catch(_){}
      renderCards();
    },400);
  });
  document.getElementById('btnClear')?.addEventListener('click',()=>{
    state.filters={group:'',type:'',loai:'',note:'',category:''};
    updateFilterCount();state.page=1;renderCards();
  });
  document.getElementById('prev')?.addEventListener('click',()=>{if(state.page>1){state.page--;renderCards();}});
  document.getElementById('next')?.addEventListener('click',()=>{state.page++;renderCards();});
  document.getElementById('pageSel2')?.addEventListener('change',e=>{state.page=+e.target.value;renderCards();});
  document.getElementById('pageSel')?.addEventListener('change',e=>{state.page=+e.target.value;renderCards();});
  const c=loadCart();const cc=document.getElementById('cartCount');if(cc&&c.length){cc.textContent=c.length;cc.classList.remove('hidden');}
});
</script>
</body>
</html>
