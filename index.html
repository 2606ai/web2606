<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>PCGbrand - 2606ai.vn</title>

<!-- Bootstrap (ƒë·ªÉ d√πng offcanvas + carousel) -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Be+Vietnam+Pro:wght@400;600;700;800&display=swap" rel="stylesheet">

<style>
  :root{
    --main:#0018a8;
    --accent:#d4af37;
    --bg:#f5f6fa;
    --border:#e9e9ee;
  }
  *{box-sizing:border-box}
  body{font-family:'Be Vietnam Pro',sans-serif;background:var(--bg);color:#222;font-size:14px;line-height:1.4}

  /* NAVBAR */
  .navbar{background:#fff;border-bottom:1px solid var(--border);position:sticky;top:0;z-index:1030}
  .brand{font-weight:800;color:var(--main)}
  .search-input{border:1px solid #ddd;border-radius:10px;padding:8px 12px;width:100%}
  .btn-cart{background:var(--main);color:#fff;border:none;border-radius:10px;padding:8px 12px}
  .btn-cart .count{background:#fff;color:#111;border-radius:999px;padding:2px 8px;margin-left:6px;font-weight:800}

  /* HERO (STICKY d∆∞·ªõi navbar) */
  .hero-sticky-wrap{position:sticky;top:65px;z-index:900}
  @media (max-width:576px){ .hero-sticky-wrap{ top:60px; } }
  .hero{max-width:1320px;margin:10px auto;border-radius:18px;overflow:hidden;box-shadow:0 16px 40px rgba(11,20,64,.10);background:#fff}
  .hero .carousel-item img{height:240px;object-fit:cover}
  @media(min-width:768px){ .hero .carousel-item img{ height:280px; } }
  @media(min-width:1200px){ .hero .carousel-item img{ height:320px; } }
  .hero-caption{position:absolute;left:0;right:0;bottom:14px;color:#fff;text-align:center;font-weight:800;font-size:20px;text-shadow:0 10px 28px rgba(0,0,0,.55)}
  .hero-sub{font-size:13px;font-weight:400;opacity:.95}

  /* DANH M·ª§C (GROUPS) */
  .cats-wrap{max-width:1320px;margin:6px auto 0;padding:0 8px}
  .cats{display:flex;gap:8px;overflow:auto;padding:8px}
  .cats::-webkit-scrollbar{height:8px}
  .cats::-webkit-scrollbar-thumb{background:#ddd;border-radius:8px}
  .cat-btn{white-space:nowrap;border:1px solid var(--border);padding:6px 14px;border-radius:999px;background:#fff;cursor:pointer;font-weight:700;transition:.15s;font-size:13px}
  .cat-btn:hover,.cat-btn.active{background:var(--accent);color:#111;border-color:var(--accent)}

  /* 2 C·ªòT */
  .main-wrap{max-width:1320px;margin:12px auto;padding:0 8px;display:grid;gap:16px;grid-template-columns:320px 1fr}
  @media(max-width:992px){ .main-wrap{ grid-template-columns:1fr; } }

  /* C·ªòT TR√ÅI STICKY */
  .side-sticky{ position:sticky; top:105px; align-self:start; height:fit-content; }
  @media (max-width:576px){ .side-sticky{ top:100px; } }

  /* CARD CHUNG */
  .cardx-wrap{ background:#fff; border:1px solid var(--border); border-radius:16px; box-shadow:0 8px 24px rgba(11,20,64,.06); padding:12px; }

  /* QUY·ªÄN L·ª¢I */
  .benefit-title{ font-weight:800; margin-bottom:8px; }
  .benefit-list{ list-style:none; margin:0; padding:0; display:flex; flex-direction:column; gap:10px; }
  .benefit-list li{ display:flex; gap:10px; align-items:flex-start; }
  .ic{ width:28px; height:28px; border-radius:8px; background:#f5f7ff; display:flex; align-items:center; justify-content:center; }
  .b-h{ font-weight:700; }
  .b-s{ color:#666; font-size:12px; }
  .benefit-cta{ display:flex; gap:8px; margin-top:10px; }
  .btn-mini{ border:none; border-radius:10px; padding:8px 12px; font-weight:800; cursor:pointer; }
  .btn-primaryx{ background:var(--main); color:#fff; }
  .btn-zalox{ background:#1A6CFF; color:#fff; text-decoration:none; }

  /* X∆Ø·ªûNG */
  .factory-title{ font-weight:800; margin:12px 0 8px; }
  .factory-list{ display:flex; flex-direction:column; gap:8px; }
  .factory-item{ display:flex; gap:10px; padding:8px; border:1px solid var(--border); border-radius:12px; align-items:center; background:#fff; }
  .factory-item img{ width:52px; height:52px; object-fit:cover; border-radius:10px; }
  .factory-meta{ flex:1; }
  .factory-name{ font-weight:800; font-size:13px; }
  .factory-desc{ font-size:12px; color:#666; }
  .factory-actions{ display:flex; gap:6px; }
  .factory-actions .mini{ font-size:12px; padding:6px 8px; border-radius:8px; border:1px solid var(--border); background:#fff; }

  /* PRODUCT GRID */
  .product-section{background:#fff;padding:12px;border-radius:18px;border:1px solid var(--border);box-shadow:0 10px 30px rgba(11,20,64,.05)}
  .grid{display:grid;gap:8px;grid-template-columns:repeat(2,1fr)}
  @media(min-width:640px){.grid{grid-template-columns:repeat(3,1fr)}}
  @media(min-width:992px){.grid{grid-template-columns:repeat(4,1fr)}}
  @media(min-width:1280px){.grid{grid-template-columns:repeat(5,1fr)}}
  .cardp{border:0;background:#fff;transition:.2s;cursor:pointer;border-radius:12px;overflow:hidden;position:relative}
  .cardp:hover{transform:translateY(-2px);box-shadow:0 6px 14px rgba(0,0,0,.08)}
  .thumb{width:100%;aspect-ratio:1/1;object-fit:cover;display:block;background:#f2f2f2}
  .meta{padding:8px;border-top:1px solid #eee}
  .id{font-weight:700;font-size:13px}
  .price{color:#0066cc;font-weight:800;font-size:13px}
  .row-meta{display:flex;justify-content:space-between;align-items:center}
  .add-btn{width:28px;height:28px;border-radius:8px;border:none;background:var(--main);color:#fff;font-size:18px;font-weight:700;display:flex;align-items:center;justify-content:center}
  .add-btn:hover{background:#000f66}
  .meta .details{color:#666;font-size:12px;margin-top:2px;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden;}
  .type-badge{display:inline-block;margin-top:4px;padding:2px 6px;font-size:11px;border-radius:6px;background:#eef2ff;color:#334;border:1px solid #dde3f0;}
  .note-badge{position:absolute;top:8px;left:8px;background:#ffd64d;color:#111;padding:4px 8px;border-radius:10px;font-weight:800;font-size:12px}

  /* SKELETON */
  @keyframes pulseSk{0%{opacity:1}50%{opacity:.5}100%{opacity:1}}

  footer{margin:24px 0;padding:18px;background:var(--main);color:#fff;text-align:center;font-size:13px}
</style>
</head>
<body>

<!-- NAVBAR -->
<nav class="navbar">
  <div class="container-xl d-flex align-items-center gap-2 py-2">
    <div class="brand me-2">PCGbrand</div>
    <input id="searchBox" class="search-input" placeholder="T√¨m s·∫£n ph·∫©m... (ID, m√¥ t·∫£, TYPE)">
    <button id="searchBtn" class="btn-cart ms-2">üîç</button>
    <button class="btn-cart ms-auto" type="button" data-bs-toggle="offcanvas" data-bs-target="#cartCanvas" aria-controls="cartCanvas">
      üõí Gi·ªè h√†ng <span id="cartCount" class="count">0</span>
    </button>
  </div>
</nav>

<!-- HERO (STICKY) -->
<div class="hero-sticky-wrap">
  <div class="hero">
    <div id="heroCarousel" class="carousel slide" data-bs-ride="carousel" data-bs-interval="4500">
      <div class="carousel-inner">
        <div class="carousel-item active">
          <img src="https://picsum.photos/1600/320?random=101" class="d-block w-100" alt="">
          <div class="hero-caption">X∆∞·ªüng 1 ‚Äì Tem kim lo·∫°i<div class="hero-sub">Men m√†u, m·∫° v√†ng, ƒë√∫c n·ªïi 3D</div></div>
        </div>
        <div class="carousel-item">
          <img src="https://picsum.photos/1600/320?random=102" class="d-block w-100" alt="">
          <div class="hero-caption">X∆∞·ªüng 2 ‚Äì In UV<div class="hero-sub">In chi ti·∫øt s·∫Øc n√©t</div></div>
        </div>
        <div class="carousel-item">
          <img src="https://picsum.photos/1600/320?random=103" class="d-block w-100" alt="">
          <div class="hero-caption">X∆∞·ªüng 3 ‚Äì ƒê√∫c huy hi·ªáu<div class="hero-sub">ƒê√∫c n·ªïi 3D, nƒÉng l·ª±c l·ªõn</div></div>
        </div>
      </div>
      <button class="carousel-control-prev" type="button" data-bs-target="#heroCarousel" data-bs-slide="prev"><span class="carousel-control-prev-icon"></span></button>
      <button class="carousel-control-next" type="button" data-bs-target="#heroCarousel" data-bs-slide="next"><span class="carousel-control-next-icon"></span></button>
    </div>
  </div>
</div>

<!-- DANH M·ª§C (GROUPS) -->
<div class="cats-wrap">
  <div id="categoryBox" class="cats"></div>
</div>

<!-- 2 C·ªòT -->
<div class="main-wrap">

  <!-- C·ªòT TR√ÅI -->
  <aside class="side-sticky">
    <section class="cardx-wrap">
      <div class="benefit-title">Quy·ªÅn l·ª£i khi ƒë·∫∑t h√†ng qua 2606ai.vn</div>
      <ul class="benefit-list">
        <li><span class="ic">üß™</span><div><div class="b-h">Duy·ªát m·∫´u tr∆∞·ªõc khi s·∫£n xu·∫•t</div><div class="b-s">·∫¢nh/m·∫´u th·∫≠t; ch·ªâ s·∫£n xu·∫•t khi b·∫°n OK.</div></div></li>
        <li><span class="ic">üõ°Ô∏è</span><div><div class="b-h">QC 2 l·ªõp & b·∫£o h√†nh</div><div class="b-s">Ki·ªÉm so√°t ch·∫•t l∆∞·ª£ng; l·ªói ƒë·ªïi m·ªõi.</div></div></li>
        <li><span class="ic">üì¶</span><div><div class="b-h">Giao h√†ng to√†n qu·ªëc</div><div class="b-s">ƒê√≥ng g√≥i ch·ªëng va ƒë·∫≠p; c√≥ Hƒê GTGT.</div></div></li>
        <li><span class="ic">üîí</span><div><div class="b-h">B·∫£o m·∫≠t thi·∫øt k·∫ø (NDA)</div><div class="b-s">Kh√¥ng chia s·∫ª, kh√¥ng t√°i b·∫£n.</div></div></li>
        <li><span class="ic">üí≥</span><div><div class="b-h">Thanh to√°n linh ho·∫°t</div><div class="b-s">C·ªçc theo giai ƒëo·∫°n; ∆∞u ƒë√£i theo s·∫£n l∆∞·ª£ng.</div></div></li>
      </ul>
      <div class="benefit-cta">
        <a class="btn-mini btn-zalox" href="https://zalo.me/0936169692" target="_blank" rel="noopener">Chat nhanh Zalo</a>
        <button class="btn-mini btn-primaryx" id="ctaQuote">G·ª≠i y√™u c·∫ßu b√°o gi√°</button>
      </div>
    </section>

    <section class="cardx-wrap">
      <div class="factory-title">X∆∞·ªüng s·∫£n xu·∫•t uy t√≠n</div>
      <div id="factoryList" class="factory-list"></div>
    </section>
  </aside>

  <!-- C·ªòT PH·∫¢I (S·∫¢N PH·∫®M) -->
  <section class="product-column">
    <div class="product-section">
      <div class="d-flex justify-content-between align-items-center mb-2">
        <h6 class="m-0">Danh s√°ch s·∫£n ph·∫©m</h6>
        <div class="d-flex gap-2">
          <button id="prevBtn" class="btn btn-light btn-sm">‚Üê Tr∆∞·ªõc</button>
          <button id="nextBtn" class="btn btn-light btn-sm">Sau ‚Üí</button>
        </div>
      </div>
      <div class="grid" id="productGrid"></div>
    </div>
  </section>
</div>

<!-- OFFCANVAS CART -->
<div class="offcanvas offcanvas-end" tabindex="-1" id="cartCanvas" aria-labelledby="cartCanvasLabel">
  <div class="offcanvas-header">
    <h5 class="offcanvas-title" id="cartCanvasLabel">üõí S·∫£n ph·∫©m ƒë√£ ch·ªçn</h5>
    <button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Close"></button>
  </div>
  <div class="offcanvas-body">
    <div id="cartListSide" class="small mb-3">Ch∆∞a c√≥ s·∫£n ph·∫©m.</div>
    <div class="d-flex justify-content-between mb-2"><span>T·ªïng ti·ªÅn:</span><span class="fw-bold" id="cartTotalSide">0 ƒë</span></div>
    <div class="d-flex justify-content-between">
      <button id="clearBtnSide" class="btn btn-light btn-sm">X√≥a gi·ªè</button>
      <a class="btn btn-primary btn-sm" href="https://zalo.me/0936169692" target="_blank" rel="noopener">Li√™n h·ªá b√°o gi√°</a>
    </div>
  </div>
</div>

<footer>
  C√îNG TY TNHH ƒê·∫¶U T∆Ø V√Ä TH∆Ø∆†NG M·∫†I AAA VI·ªÜT NAM ¬∑ S·ªë 36 ƒë∆∞·ªùng s·ªë 2, P. T√¢n H∆∞ng, Q.7, HCM<br>
  Th·ªùi gian l√†m vi·ªác: 8h00 - 17h30 (Tr·ª´ CN) ¬∑ Hotline: 0936 169 692 (Zalo) ¬∑ Mr. ƒêƒÉng - Chuy√™n vi√™n kinh doanh<br>
  Email: dangem.lh@aaavietnam.com ¬∑ Website: nhanmac3a.vn
</footer>

<!-- Bootstrap JS -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>

<script>
/* ================== CONFIG ================== */
const API_URL = 'https://script.google.com/macros/s/AKfycbyp8hH9seYgTW_H59pcR4OpvdQbpLhH9F67oYvOQoUpDsjYsemNDgel2sMameaxTdKy/exec'; // ‚Üê THAY b·∫±ng Web App URL
const API_KEY = '';   // n·∫øu c√≥
const state = { page:1, pageSize:15, q:'', group:'' };
const APP_VERSION = '4';

/* ================== UTILS ================== */
const fmtVND = n => (Number(n)||0).toLocaleString('vi-VN') + ' ƒë';
const esc = s => (s||'').replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;').replace(/"/g,'&quot;');
function hiRes(url,w=600){ return (url||'').replace(/=s\d+/, '=s'+w); }
function qs(extra={}){ const p=new URLSearchParams(extra); if(API_KEY) p.set('key', API_KEY); return p.toString(); }

/* ================== CART ================== */
let cart = [];
function saveCart(){ localStorage.setItem('pcg_cart', JSON.stringify(cart)); updateCartUI(); }
function loadCart(){
  const ver=localStorage.getItem('pcg_version');
  if(ver!==APP_VERSION){ localStorage.setItem('pcg_version',APP_VERSION); localStorage.removeItem('pcg_cart'); }
  cart = JSON.parse(localStorage.getItem('pcg_cart')||'[]'); updateCartUI();
}
function updateCartUI(){
  const box=document.getElementById('cartListSide');
  const countEl=document.getElementById('cartCount');
  if(!cart.length){ box.innerHTML='Ch∆∞a c√≥ s·∫£n ph·∫©m.'; countEl.textContent='0'; }
  else{
    box.innerHTML = cart.map((it,i)=>`
      <div class="d-flex align-items-center gap-2 border-bottom py-2">
        <img src="${esc(it.img)}" style="width:46px;height:46px;border-radius:6px;object-fit:cover">
        <div class="flex-grow-1">
          <div>${esc(it.id)}</div>
          <div class="text-muted small">${esc(it.details||'')}</div>
          <div>${fmtVND(it.price)} √ó ${it.qty}</div>
        </div>
        <div class="d-flex align-items-center gap-1">
          <button class="btn btn-outline-secondary btn-sm" data-dec="${i}">-</button>
          <span>${it.qty}</span>
          <button class="btn btn-outline-secondary btn-sm" data-inc="${i}">+</button>
          <button class="btn btn-link text-danger" data-rm="${i}">‚úï</button>
        </div>
      </div>
    `).join('');
    const totalQty = cart.reduce((s,it)=>s+it.qty,0);
    countEl.textContent = String(totalQty);
  }
  document.getElementById('cartTotalSide').textContent =
    fmtVND(cart.reduce((s,it)=>s + (Number(it.price)||0)*it.qty,0));
}

/* ================== FACTORIES (qu·∫£ng c√°o x∆∞·ªüng) ================== */
const FACTORIES = [
  {name:'X∆∞·ªüng 1 ‚Äì Tem kim lo·∫°i',desc:'Men m√†u, m·∫° v√†ng, ƒë√∫c n·ªïi 3D',img:'https://picsum.photos/120/120?random=11',link:'https://temkimloai.nhanmac3a.vn/huy-hieu'},
  {name:'X∆∞·ªüng 2 ‚Äì In UV',desc:'In chi ti·∫øt s·∫Øc n√©t',img:'https://picsum.photos/120/120?random=12',link:'#'},
  {name:'X∆∞·ªüng 3 ‚Äì ƒê√∫c huy hi·ªáu',desc:'ƒê√∫c n·ªïi 3D, s·∫£n l∆∞·ª£ng l·ªõn',img:'https://picsum.photos/120/120?random=13',link:'#'},
  {name:'X∆∞·ªüng 4 ‚Äì In offset',desc:'Bao b√¨ ‚Äì h·ªôp ‚Äì tem nh√£n',img:'https://picsum.photos/120/120?random=14',link:'#'},
  {name:'X∆∞·ªüng 5 ‚Äì Qu√† t·∫∑ng',desc:'Qu√† t·∫∑ng doanh nghi·ªáp',img:'https://picsum.photos/120/120?random=15',link:'#'},
];
function renderFactories(){
  const box=document.getElementById('factoryList'); if(!box) return;
  box.innerHTML = FACTORIES.map(x=>`
    <div class="factory-item">
      <img src="${esc(x.img)}" alt="">
      <div class="factory-meta">
        <div class="factory-name">${esc(x.name)}</div>
        <div class="factory-desc">${esc(x.desc)}</div>
        <div class="factory-actions">
          <a class="mini" href="${esc(x.link)}" target="_blank" rel="noopener">Xem x∆∞·ªüng</a>
          <a class="mini" href="https://zalo.me/0936169692" target="_blank" rel="noopener">B√°o gi√° nhanh</a>
        </div>
      </div>
    </div>
  `).join('');
}

/* ================== GROUPS ================== */
let builtGroups = false;
function buildGroupsOnce(groups){
  if(builtGroups) return;
  const box=document.getElementById('categoryBox'); if(!box) return;
  const all=`<button class="cat-btn ${!state.group?'active':''}" data-group="">T·∫•t c·∫£</button>`;
  const btns=(groups||[]).map(g=>{
    const val=(g||'').trim();
    const act=(state.group||'').toLowerCase()===val.toLowerCase()?'active':'';
    return `<button class="cat-btn ${act}" data-group="${esc(val)}">${esc(val)}</button>`;
  }).join('');
  box.innerHTML=all+btns;
  box.addEventListener('click',e=>{
    const btn=e.target.closest('.cat-btn'); if(!btn) return;
    state.group=(btn.dataset.group||'').trim();
    box.querySelectorAll('.cat-btn').forEach(b=>b.classList.remove('active'));
    btn.classList.add('active');
    state.page=1; fetchPage();
  });
  builtGroups=true;
}

/* ================== SKELETON ================== */
function renderSkeleton(n){
  const grid=document.getElementById('productGrid');
  grid.innerHTML = Array.from({length:n}).map(()=>`
    <div class="cardp">
      <div class="thumb" style="background:#eee;animation:pulseSk 1.2s infinite;"></div>
      <div class="meta">
        <div class="id" style="height:12px;background:#eee;border-radius:4px"></div>
        <div class="details" style="height:10px;background:#f3f3f3;border-radius:4px;margin-top:6px"></div>
        <div class="type-badge" style="background:#f3f3f3;border-color:#f3f3f3;color:transparent">TYPE</div>
        <div class="row-meta mt-1">
          <div class="price" style="height:12px;background:#eee;border-radius:4px;width:80px"></div>
          <div class="add-btn" style="background:#e0e0e0;color:#e0e0e0">+</div>
        </div>
      </div>
    </div>
  `).join('');
}

/* ================== DATA FETCH ================== */
function fetchPage(){
  renderSkeleton(state.pageSize);
  const url = `${API_URL}?` + qs({
    action:'list', page:state.page, pageSize:state.pageSize,
    q: state.q || '', group: state.group || ''
  });
  fetch(url, { method:'GET' })
    .then(r=>r.json())
    .then(res=> render(res) )
    .catch(err=>{
      console.error(err);
      render({items:[],facets:{groups:[]},page:1,pageSize:state.pageSize,total:0});
    });
}

function render(res){
  if(res?.facets?.groups) buildGroupsOnce(res.facets.groups);
  const grid=document.getElementById('productGrid');

  const html = (res.items||[]).map(it=>{
    const img=hiRes(it.img,600);
    const full=it.full||img;
    const note = it.chuy ? `<span class="note-badge">${esc(it.chuy)}</span>` : '';
    return `
      <div class="cardp" data-full="${esc(full)}">
        ${note}
        <img class="thumb" src="${esc(img)}" loading="lazy"
             onerror="this.src='https://via.placeholder.com/600x600?text=No+Image'">
        <div class="meta">
          <div class="id">${esc(it.id)}</div>
          <div class="details" title="${esc(it.details)}">${esc(it.details)}</div>
          <div class="type-badge">${esc(it.type||'')}</div>
          <div class="row-meta mt-1">
            <div class="price">${fmtVND(it.price)}</div>
            <button class="add-btn" title="Th√™m"
                    data-add='${JSON.stringify(it).replace(/'/g,"&apos;")}'>+</button>
          </div>
        </div>
      </div>`;
  }).join('');

  grid.innerHTML = html || '<div class="text-muted">Kh√¥ng c√≥ s·∫£n ph·∫©m.</div>';
}

/* ================== EVENTS ================== */
// T√¨m ki·∫øm
document.getElementById('searchBtn').onclick=()=>{ state.q=document.getElementById('searchBox').value.trim(); state.page=1; fetchPage(); };
document.getElementById('searchBox').addEventListener('keypress',e=>{
  if(e.key==='Enter'){ state.q=e.target.value.trim(); state.page=1; fetchPage(); }
});

// Th√™m gi·ªè & m·ªü ·∫£nh
document.getElementById('productGrid').addEventListener('click',e=>{
  const addBtn=e.target.closest('.add-btn');
  if(addBtn){
    e.stopPropagation(); e.preventDefault();
    const it=JSON.parse(addBtn.dataset.add.replace(/&apos;/g,"'"));
    const f=cart.find(x=>x.id===it.id);
    if(f) f.qty+=1;
    else cart.push({id:it.id,details:it.details,type:it.type,price:Number(it.price)||0,img:it.img,qty:1});
    saveCart(); return;
  }
  const card=e.target.closest('.cardp');
  if(card){ const full=card.dataset.full; if(full) window.open(full,'_blank'); }
});

// Cart +/-/x
document.getElementById('cartListSide').addEventListener('click',e=>{
  const inc=e.target.closest('[data-inc]'), dec=e.target.closest('[data-dec]'), rm=e.target.closest('[data-rm]');
  if(inc||dec||rm){ e.stopPropagation(); e.preventDefault(); }
  if(inc){ cart[inc.dataset.inc].qty++; saveCart(); }
  if(dec){ const i=dec.dataset.dec; cart[i].qty--; if(cart[i].qty<=0) cart.splice(i,1); saveCart(); }
  if(rm){ cart.splice(rm.dataset.rm,1); saveCart(); }
});

// Ph√¢n trang
document.getElementById('prevBtn').onclick=()=>{ if(state.page>1){state.page--; fetchPage();} };
document.getElementById('nextBtn').onclick=()=>{ state.page++; fetchPage(); };

// CTA b√°o gi√° nhanh
document.getElementById('ctaQuote')?.addEventListener('click',()=> window.open('https://zalo.me/0936169692','_blank') );

/* ================== INIT ================== */
document.addEventListener('DOMContentLoaded', ()=>{
  renderFactories();
  loadCart();
  fetchPage();
});
</script>
</body>
</html>
